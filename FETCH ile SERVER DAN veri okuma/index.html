<!doctype html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Js Dersleri</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap" rel="stylesheet">

    <style> body {
        font-family: 'Nunito', sans-serif;
    } </style>

</head>
<body>
<h1 class="text-center text-success fw-bolder py-3">FETCH ile SERVER verilerini okuma</h1>

<div class="continer">
    <div class="p-4">
        <div class="col-md-4 d-flex justify-content-between mb-3">
            <label for="text" class="h3 m-0">Fetch ile TEXT Dosyası getir</label>
            <button class="btn btn-dark text-uppercase" id="text">text getir</button>
        </div>
        <div class="col-md-4 d-flex justify-content-between mb-3">
            <label for="json" class="h3 m-0">Fetch ile JSON Dosyası getir</label>
            <button class="btn btn-dark text-uppercase" id="json">json getir</button>
        </div>
        <div class="col-md-4 d-flex justify-content-between">
            <label for="apiJeson" class="h3 m-0">Fetch ile JSON Api getir</label>
            <button class="btn btn-dark text-uppercase" id="apiJeson">json getir</button>
        </div>
    </div>
</div>
<hr>
<div id="resultDiv" class="py-5 h3">

</div>
<pre>

</pre>

<script>
    // FETCH
    const getBtnText = document.querySelector("#text")
    const getBtnJson = document.querySelector("#json")
    const getBtnApiJeson = document.querySelector("#apiJeson")
    const resultDiv = document.querySelector("#resultDiv")

    getBtnText.addEventListener("click", getText)
    getBtnJson.addEventListener("click", getJSON)
    getBtnApiJeson.addEventListener("click", getApiJeson)

    function getApiJeson(e) {
        e.preventDefault()
        fetch("https://jsonplaceholder.typicode.com/photos")
            .then(response => response.json())
            .then(result => {
                let content = "";
                result.forEach((values) => {
                    Object.keys(values).forEach((val) => {
                        content += `${val} - ${values[val]}\n`
                    })

                })
                resultDiv.innerText = content
            })
            .catch(error => resultDiv.innerText = error)
    }


    function getText(e) {
        e.preventDefault()

        fetch("icerik.txt")
            .then(response => response.text())
            .then(result => resultDiv.innerText = result)
            .catch(error => resultDiv.innerText = error)

    }

    function getJSON(e) {
        e.preventDefault()

        fetch("user.json")
            .then(response => response.json())
            .then(result => {
                let content = "";
                result.forEach((values) => {
                    Object.keys(values).forEach((val) => {
                        content += `${val} - ${values[val]}\n`
                    })

                })
                resultDiv.innerText = content
            })
            .catch(error => resultDiv.innerText = error)
    }


</script>
</body>


</html>

